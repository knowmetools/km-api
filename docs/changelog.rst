#########
Changelog
#########


******
v0.8.0
******

Breaking Changes
  * :issue:`253`: Massive rewrite of profile features. This is a backwards incompatible change that modifies endpoints, the data returned from profile endpoints, and requires a complete database wipe.
  * :issue:`267`: Refactor accessor permission fields. The permissions are now encompassed in a single ``is_admin`` field.

Features
  * :issue:`246`: Create model for journal entries.
  * :issue:`247`: Add endpoint for listing and creating journal entries.
  * :issue:`248`: Create model for comments on journal entries.
  * :issue:`249`: Add endpoint for listing and creating comments on journal entries.

Bug Fixes
  * :issue:`254`: Fix Ansible creating duplicate crontab entries.
  * :issue:`261`: Fix permissions on ``KMUser`` instances not respecting sharing.
  * :issue:`262`: Fix access to private profiles being too open.

Miscellaneous
  * :issue:`211`: Remove old "emergency" models.
  * :issue:`273`: Document release process.


******
v0.7.1
******

Bug Fixes
  * :issue:`244`: Fix issue with registration serializer.


******
v0.7.0
******

Developed "Bookshelf" as a rework of the old "Gallery".

Breaking Changes
  * Switched to third party account management package. This modified the endpoints used for email management, password resets, and registration. Also, the transition removed a lot of our account related models and modified their migrations. This means the existing database must be wiped and recreated.
  * :issue:`209`: Removed "emergency" related content.
  * :issue:`214`: Removed ``is_default`` field from profiles.
  * :issue:`239`: Removed Layer integration. This means Layer authentication tokens can no longer be obtained from the API.

Features
  * :issue:`212,217`: Added categories for media resources.
  * :issue:`213`: Add endpoint for listing media resources.

Bug Fixes
  * :issue:`224`: Fix issue with incorrect filtering of list views.

Miscellaneous
  * :issue:`208`: Switched to autogenerated documentation.


******
v0.6.1
******

Bug Fixes:
  * :issue:`225`: Fix production deployments being deployed to the staging environment.


******
v0.6.0
******

Implement sharing of profiles.

Features:
  * :issue:`154`: Allow profiles to be marked as private. Private profiles are not accessible by shared users unless they are explicitly granted access.

Bug Fixes:
  * :issue:`142`: Add missing migrations.
  * :issue:`139,197`: Add ability to share profiles with other users.
  * :issue:`177`: Fix issue with trying to register with an email address that is already being used.


******
v0.5.3
******

Update dependency versions.


******
v0.5.2
******

Bug Fixes
  * :issue:`195`: Fix issue with some endpoints only accepting a single-digit ID.


******
v0.5.1
******

Bug Fixes
  * :issue:`143`: Fix missing field on emergency contact admin page.


******
v0.5.0
******

This release was focused on renaming the components of a Know Me user's profile. As a result of this renaming, this release will break all existing data related to Know Me. This change also caused several endpoints to be renamed. The most relevant issue here is :issue:`65`.

* ``/know-me/gallery-items/*`` to ``/know-me/media-resources/*``
* ``/know-me/profiles/*`` to ``/know-me/users/*``
* ``/know-me/rows/*`` to ``/know-me/topics/*``

Breaking Changes
  * :issue:`66`: Remove grouped and paged row types.
  * :issue:`85`: Separated content for different types of profile items into different models. This means the data (other than name) from existing profile items is lost.

Features
  * :issue:`67`: Add emergency contacts for Know Me users.
  * :issue:`68,100,112`: Add list-type profile items.
  * :issue:`79,91,96`: Add ability for users to manage their emergency items.

Bug Fixes
  * :issue:`70`: Fixed regression in the error returned when attempting to log in with an unverified email address.
  * :issue:`75`: Fix parsing of JSON requests.

******
v0.4.0
******

Breaking Changes
  * :issue:`27`: Move user profile view from ``/auth/profile/`` to ``/account/profile``.
  * :issue:`36,54`: Emails must be verified before being able to log in.
  * :issue:`42`: The user model was moved to the ``account`` app. This requires dropping any existing databases.

Features
  * :issue:`28`: Users can change their password.
  * :issue:`34`: Users can now request a password reset by email.
  * :issue:`47`: Allow users to manage their email addresses. They can now add/remove addresses and switch which one is the primary.
  * :issue:`50`: Users receive a notification when an email is added to their account.

Miscellaneous
  * :issue:`41`: Users can be authenticated by passing an ``email`` rather than a ``username`` to Django's ``authenticate`` function.
  * :issue:`46`: An admin user is created when the project is deployed.
  * :issue:`52`: Developers are no longer required to have a local settings file.


******
v0.3.0
******

Features
  * :issue:`29,30,31`: Automatically sync user info to a MailChimp list.

Miscellaneous
  * :issue:`32`: Ignore reports about disallowed hosts.


******
v0.2.0
******

Breaking Changes
  * :issue:`18`: Flattened URL structure.
  * :issue:`21`: Moved Layer authentication to the ``/auth/layer/`` endpoint.

Features
  * :issue:`12`: Add logging in production.
  * :issue:`14`: Refactor permissions implementation using ``dry-rest-permissions`` package.
  * :issue:`19,20`: Add documentation.

Bug Fixes
  * :issue:`9`: Ensure passwords are validated.
